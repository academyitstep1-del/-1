import logging

# Налаштовуємо логування (створюємо лог-файл)
logging.basicConfig(
    filename='age_check.log',         # файл, куди записуються повідомлення
    level=logging.INFO,               # рівень повідомлень (INFO і вище)
    format='%(asctime)s - %(levelname)s - %(message)s'  # формат запису
)

def check_age(age):
    """
    Функція перевіряє, чи користувач досяг 18 років.
    Використовує assert для контролю умов і логування для збереження результатів.
    """

    try:
        # assert — це перевірка умови; якщо вона False, виникає AssertionError
        assert age >= 18, "Вам має бути 18 років або більше"

        # Якщо перевірка пройдена — лог і повідомлення
        logging.info(f"Вік користувача ({age}) допустимий. Доступ дозволено.")
        print("✅ Ви можете використовувати цей сервіс")

    except AssertionError as e:
        # Якщо assert не виконується, обробляємо помилку
        logging.error(f"Помилка перевірки віку ({age}): {e}")
        print("⚠️", e)

    except Exception as e:
        # Для будь-яких інших непередбачених помилок
        logging.exception(f"Невідома помилка: {e}")
        print("❌ Сталася невідома помилка.")


# --- Тестування функції ---
print("=== Тест 1 ===")
check_age(20)   # Дозволено

print("\n=== Тест 2 ===")
check_age(15)   # Недопустимо

print("\n=== Тест 3 ===")
check_age(18)   # Граничне значення
